# ============================================
# KOLT - KOL Tracker Configuration Sample
# ============================================
# This is a sample environment configuration file.
# Copy this to .env and fill in your actual values.
# NEVER commit .env with sensitive data to version control.

# ============================================
# SERVER SETTINGS
# ============================================

# Port the Express server listens on
PORT="3000"

# Application title/name
TITLE="Kolt"

# Enable production mode (triggers different behaviors like sending Telegram startup messages)
PRODUCTION="false"

# Force IPv4 connections (useful for certain network configurations)
FORCE_FAMILY_4="true"

# Exit process if an uncaught exception occurs
EXIT_ON_UNCAUGHT_EXCEPTION="true"

# Exit process if an unhandled promise rejection occurs
EXIT_ON_UNHANDLED_REJECTION="true"

# Production URL for webhook callbacks and redirects
PROD_URL="https://yourdomain.com"

# Maximum log weight level to display (0=critical, 5=verbose, higher=more logs)
MAX_ALLOWED_FLOG_LOG_WEIGHT="5"

# ============================================
# TELEGRAM BOT CONFIGURATION
# ============================================

# Your Telegram bot API token (get from @BotFather)
# https://t.me/botfather
TG_TOKEN="YOUR_BOT_TOKEN_HERE"

# Your Telegram chat/user ID where notifications will be sent
# Send /start to the bot to find your chat ID
TG_CHAT_ID="YOUR_CHAT_ID_HERE"

# Use polling instead of webhooks for Telegram updates
# true = polling mode, false = webhook mode
TG_POLLING="true"

# Secret token for Telegram webhook verification (can be any random string)
# Only used if TG_POLLING=false
TG_WH_SECRET_TOKEN="your_webhook_secret_token_here"

# Your bot's public URL for webhook (only used if TG_POLLING=false)
# Format: https://yourdomain.com
TG_BOT_URL="https://yourdomain.com"

# ============================================
# WEBSOCKET SETTINGS
# ============================================

# WebSocket URL for token migration events from Pump.fun
WS_URL="wss://pumpportal.fun/api/data"

# Delay (ms) before attempting to reconnect if WebSocket disconnects
WS_RECON_DELYAY_MS="5000"

# ============================================
# SOLANA BLOCKCHAIN CONFIGURATION
# ============================================

# Solana RPC endpoint URL
# Public: https://api.mainnet-beta.solana.com
# Or use a private RPC for better performance/reliability
RPC="https://api.mainnet-beta.solana.com"

# Pump.fun API endpoint
PF_API="https://frontend-api-v3.pump.fun"

# Maximum number of top token holders to fetch when a token migrates
MAX_TOP_HOLDERS="10"

# Network fee in SOL (for transaction estimation)
NETWORK_FEE="0.000005"

# Your Solana keypair (private key) as JSON array
# Format: [byte1, byte2, ...] (64 bytes for ed25519 keys)
# WARNING: Never commit this with real keys to public repos
PRIVATE_KEY="[123,23,3,...]"

# Timezone for date/time operations
TZ="UTC"

# ============================================
# PUMPSWAP ENGINE CONFIGURATION (NATS)
# ============================================

# NATS connection credentials and server
# Format: "username=<user> password=<pass> server=<wss_url>"
# These are auto-fetched from Pump.fun if PS_RECONNECT_TIMEOUT_MS=0
PS_DEFAULT_DETAILS="username=subscriber password=your_password server=wss://amm-prod.nats.realtime.pump.fun"

# Timeout (ms) before attempting to reconnect to NATS
# Set to 0 to auto-fetch credentials from Pump.fun
PS_RECONNECT_TIMEOUT_MS="5000"

# Maximum reconnection retry attempts
PS_MAX_RECON_RETRIES="5"

# Delay (ms) between reconnection attempts
PS_RETRIES_INTERVAL_MS="5000"

# Token total supply used for market cap calculation
# Default is Pump.fun's standard supply: 1 quadrillion
PS_PF_TOTAL_SUPPLY="1000000000000000"

# ============================================
# MAIN ENGINE CONFIGURATION
# ============================================

# PnL threshold below which a trade is considered "bad" (-0.2 = -20%)
# Used for calculating bad score
MN_BAD_PNL_THRESHOLD="-0.2"

# Maximum consecutive bad score before a pool is removed
# A score increments on losing trades, decrements on winning trades
MN_MAX_BAD_SCORE="3"

# Maximum number of traders to keep in memory
# Oldest/worst performing traders removed when exceeded
MN_MEMORY_CAP="5000"

# Inactivity timeout (ms) before a trader is considered inactive and removed
# 1800000ms = 30 minutes
# Tier A traders get 4x multiplier, Tier B get 2x
MN_INACTIVITY_TIMEOUT_MS="1800000"

# Interval (ms) for garbage collection runs
# Cleans up inactive traders and enforces memory cap
MN_GARBAGE_INTERVAL_MS="180000"

# ============================================
# TRACKER ENGINE CONFIGURATION
# ============================================

# Interval (ms) for syncing top traders from MainEngine to TrackerEngine
# 180000ms = 3 minutes
TR_INTERVAL_MS="180000"

# Maximum number of automatically tracked traders from top performers
# Manually added traders are in addition to this limit
TR_MAX_TRADERS="10"

# Send Telegram notification when top traders are automatically added
TR_SEND_AUTO_ADD="true"

# Send Telegram notification when top traders are automatically removed
TR_SEND_AUTO_REM="true"

# Send Telegram notification for every trade by tracked traders
# Warning: Can be high volume
TR_SEND_ACTIVITY="true"

# Inactivity timeout (ms) for removing automatically tracked traders
# Manually added traders are never removed by inactivity
# 1800000ms = 30 minutes
TR_INACTIVITY_TIMEOUT_MS="1800000"